var screenWidth=window.screen.width;document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".burger__trigger"),t=document.querySelector(".list");e.addEventListener("click",(()=>{t.classList.toggle("show")}));function n(){t.classList.remove("show")}document.querySelectorAll(".list .item span").forEach((e=>{e.addEventListener("click",(()=>{e.nextElementSibling.nextElementSibling.classList.toggle("show");e.nextElementSibling.classList.toggle("show")}))})),document.querySelector(".closeBurger").addEventListener("click",n),window.addEventListener("click",(function(o){t.contains(o.target)||e||n()}));const o=document.querySelectorAll("#phone");o&&o.forEach((e=>{const t=document.querySelector("#error-msg"),n=document.querySelector("#valid-msg"),o=["Invalid number","Invalid country code","Too short","Too long","Invalid number"],s=window.intlTelInput(e,{utilsScript:"js/utils.js",separateDialCode:!0,initialCountry:"auto",geoIpLookup:function(e,t){fetch("https://ipwhois.app/json/").then((function(e){if(!e.ok)throw new Error("Ошибка запроса к сервису ipwho.is");return e.json()})).then((function(t){var n=t.country_code;e(n)})).catch((function(e){t(e)}))}}),r=()=>{e.classList.remove("error"),t.innerHTML="",t.classList.add("hide"),n.classList.add("hide")};e.addEventListener("blur",(()=>{if(r(),e.value.trim())if(s.isValidNumber())n.classList.remove("hide");else{e.classList.add("error");const n=s.getValidationError();t.innerHTML=o[n],t.classList.remove("hide")}})),e.addEventListener("change",r),e.addEventListener("keyup",r)}));function s(e,t,n){document.querySelectorAll(e).forEach((e=>{const o=document.querySelectorAll(t),s=document.querySelector(`#${n}`),r=e.querySelector("#select-connect-input");o&&o.forEach((e=>{e.addEventListener("click",(t=>{o.forEach((e=>{e.classList.remove("active")}));const c=t.currentTarget.getAttribute("data-attr");c&&("tabsInput"===n?s.value=c:r.setAttribute("name",c)),e.classList.add("active")}))}))}))}document.querySelectorAll(".menu__nav-wrapper .list .item").forEach((e=>{const t=e.childNodes;for(var n=0;n<t.length;n++){"SPAN"===t[n].tagName&&screenWidth>1025&&(e.addEventListener("mouseover",(()=>{e.querySelector(".dropdown-menu").style.display="block"})),e.addEventListener("mouseout",(()=>{e.querySelector(".dropdown-menu").style.display="none"})))}})),s("#myForm",".tab-wrapper .tab","tabsInput"),s(".select-volume .volume"),s(".select-currency .currency"),s(".search-currency .currency","priceInput"),s(".from-submit",".item","select-connect"),s(".language",".right");const r=document.querySelector(".emir-message");if(r){const Y=document.querySelector(".emir-main-item"),$=r.querySelector(".emir-items"),V=r.querySelectorAll(".emir-item"),X=r.querySelector(".emirmessage-1"),z=r.querySelector(".emirmessage-2"),G=r.querySelector(".emirmessage-3");let J=!1;r.addEventListener("click",(()=>{J?(V.forEach((e=>{e.classList.add("emir-animation-reverse"),e.classList.remove("emir-animation"),e.addEventListener("animationend",(()=>{e.style.display="none"}),{once:!0})})),X.style.cssText="top: 0px;\n      left: -36px;",G.style.cssText="top:0px;\n      left: -36px;",Y.style.height="40px",z.style.cssText="\n      left: -36px;",Y.innerHTML='<svg width="40" height="40" viewBox="0 0 40 40">\n      <use xlink:href="images/sprite.svg#static-message"></use>\n    </svg>',J=!1):(V.forEach((e=>{e.classList.add("emir-animation"),e.classList.remove("emir-animation-reverse")})),X.style.cssText="top:-54px;\n      left: -26px;",G.style.cssText="top:54px;\n      left: -26px;",z.style.cssText="\n      left: -46px;",$.style.display="flex",Y.style.height="20px",Y.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20">\n      <use xlink:href="images/sprite.svg#dagger"></use>\n    </svg>',J=!0)}))}const c=document.getElementById("myForm");document.querySelector(".search-button").addEventListener("click",(e=>{e.preventDefault();const t=new FormData(c),n=new XMLHttpRequest;n.open("POST","http://localhost:3000",!0),n.onload=function(){200===n.status?console.log(n.responseText):console.error("Request failed. Status: "+n.status)},n.send(t)}));const i=document.querySelector(".iti__country-list");if(i){const K=document.getElementById("phone");i.style.width=K.offsetWidth+"px"}const l=document.querySelector(".message");if(l){const Q=l.querySelector(".items"),Z=document.querySelector(".main-item");let ee=!1;l.addEventListener("click",(()=>{ee?(Q.classList.remove("animation"),Q.classList.add("animation-reverse"),Q.addEventListener("animationend",(()=>{Q.style.display="none"}),{once:!0}),Z.style.height="40px",Z.innerHTML='<svg width="40" height="40" viewBox="0 0 40 40">\n  <use xlink:href="/typo3conf/ext/rocket_everhomes/Resources/Public/images/sprite.svg#static-message"></use>\n</svg>',ee=!1):(Q.classList.add("animation"),Q.classList.remove("animation-reverse"),Q.style.display="flex",Z.style.height="20px",Z.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20">\n  <use xlink:href="/typo3conf/ext/rocket_everhomes/Resources/Public/images/sprite.svg#dagger"></use>\n</svg>',ee=!0)}))}const a=document.querySelectorAll(".cards__type1");a&&a.forEach((e=>{if(!e.matches(".swiper-wrapper")){const t=e.querySelectorAll(".cards__type1-item"),n=e.querySelector(".show-more"),o=3,s=6;let r=o;if(t.length>o){for(let e=o;e<t.length;e++)t[e].style.display="none";n.addEventListener("click",(function(){const e=Math.min(r+s,t.length);for(let n=r;n<e;n++)t[n].style.display="block";r=e,r===t.length&&(n.style.display="none")}))}}}));var d=document.getElementById("search-input");if(d){var u=document.getElementById("suggestionsList"),m=document.getElementById("suggestionsListStatic"),y=document.getElementById("selected-option"),p=document.getElementById("itemsInput");d.addEventListener("click",(function(){m.style.display="block",document.addEventListener("click",(function(e){var t=e.target,n=m.contains(t);t.className!=n&&t.className!=d&&"body"===t.tagName.toLowerCase()&&(m.style.display="none")})),d.addEventListener("input",(function(){var e;m.style.display="none",e=d.value.toLowerCase(),u.innerHTML="",e.length>0?(u.style.display="block",h.forEach((function(t){if(t.toLowerCase().startsWith(e)){var n=document.createElement("div");n.classList.add("item"),n.innerHTML=t,u.appendChild(n)}}))):u.style.display="none"}))}));var h=["Villas","Dubai","EMAAR"];u&&u.addEventListener("click",(function(e){if(e.target.matches(".item")){d.value="",u.style.display="none";var t=e.target.innerHTML,n=document.createElement("div");n.classList.add("item"),n.innerHTML=t;var o=document.createElement("span");o.innerHTML="×",o.classList.add("remove-option"),o.addEventListener("click",(function(){y.style.display="none",y.removeChild(n),g(t)})),y.style.display="flex",n.appendChild(o),y.appendChild(n),f(t),u.innerHTML=""}})),m&&m.addEventListener("click",(function(e){if(e.target.matches(".item")){d.value="",m.style.display="none";var t=e.target.innerHTML,n=document.createElement("div");n.classList.add("item"),n.innerHTML=t;var o=document.createElement("span");o.innerHTML="×",o.classList.add("remove-option"),o.addEventListener("click",(function(){y.removeChild(n),g(t)})),y.style.display="flex",n.appendChild(o),y.appendChild(n),f(t),m.innerHTML=""}}))}function f(e){var t=p.value;p.value=t?t+","+e:e}function g(e){var t=p.value.split(","),n=t.indexOf(e);-1!==n&&(t.splice(n,1),p.value=t.join(","))}const v=document.querySelectorAll(".dropdown-toggle");v.forEach((e=>{e.addEventListener("click",(e=>{v.forEach((e=>{e.nextElementSibling.classList.remove("show")})),e.target.nextElementSibling.classList.add("show")}))})),document.onclick=function(e){document.querySelectorAll(".dropdown-select").forEach((t=>{"custom"!=e.target.className&&"dropdown-toggle"!=e.target.className&&"item"!=e.target.className&&"currency"!=e.target.className&&"dropdown-select"!=e.target.className&&"LABEL"!==e.target.tagName&&"INPUT"!==e.target.tagName&&"LI"!==e.target.tagName&&"BUTTON"!==e.target.tagName&&t.classList.remove("show")}))};const L=document.getElementById("stockHide");if(L){const te=document.querySelector(".stock-detail");L.addEventListener("click",(()=>{te.style.transition="opacity 1s",te.style.opacity="0",j.style.display="none",te.style.display="block",setTimeout((()=>{te.style.opacity="1"}),0)}))}const E=document.querySelectorAll(".price.cards__all-price");if(E){const ne=document.querySelector(".modal-coming-soon");E.forEach((e=>{e.addEventListener("click",(()=>{ne.style.display="block",setTimeout((()=>{ne.style.opacity="1"}),0)}))}))}document.querySelectorAll(".closeX").forEach((e=>{e.addEventListener("click",(()=>{parentElement=e.parentNode,parentElement.style.display="none",document.body.style.overflowY="auto"}))}));const S=document.getElementById("contactModal");if(S){const oe=document.querySelector(".modal-contact-main.modal");S.addEventListener("click",(()=>{oe.style.display="block",document.body.style.overflowY="hidden",function(){const e=document.querySelectorAll(".iti__country-list");e.forEach((e=>{document.querySelectorAll(".from-submit .input-wrap input").forEach((t=>{e.style.width=t.offsetWidth+"px"}))}))}()}))}window.addEventListener("DOMContentLoaded",(function(){var e,t=document.querySelector(".blog-inside");if(screenWidth>1270&&t){var n=document.querySelector(".slider-wrap");e=t.offsetHeight-32+"px",n.style.height=e}}));const q=document.querySelector(".table-of-contents");if(q){const se=document.querySelector(".content");q.addEventListener("click",(()=>{se.scrollTop=se.scrollHeight}))}var w=document.querySelectorAll(".select-volume li"),x=document.querySelectorAll(".select-currency li");function b(){var e=document.querySelector(".select-volume .active").getAttribute("data-attr"),t=document.querySelector(".select-currency .active").getAttribute("data-attr");document.querySelectorAll("[data-volume]").forEach((function(t){var n=t.getAttribute("data-volume");"sqft"===e?t.textContent=n+" sqft":"m2"===e&&(t.textContent=n+" m²")})),document.querySelectorAll("[data-currency]").forEach((function(e){var n=e.getAttribute("data-currency");"aed"===t?e.textContent=n+" AED":"usd"===t?e.textContent=n+" USD":"rub"===t&&(e.textContent=n+" RUB")}));var n,o=document.querySelector(".properties li .value"),s=o.textContent.split("<sup")[0].replace(/,/g,"");"aed"===t?n=s+" AED":"usd"===t?n=Math.round(parseFloat(s)/3.67)+" USD":"rub"===t&&(n=Math.round(parseFloat(s)/.05)+" RUB"),o.textContent=n}w.forEach((function(e){e.addEventListener("click",(function(){w.forEach((function(e){e.classList.remove("active")})),e.classList.add("active"),b()}))})),x.forEach((function(e){e.addEventListener("click",(function(){x.forEach((function(e){e.classList.remove("active")})),e.classList.add("active"),b()}))}));const k=document.getElementById("uncheck");if(k){k.addEventListener("click",(()=>{document.querySelectorAll("input[type=checkbox]").forEach((function(e){e.checked&&(e.checked=!1)}))}));var T=document.querySelectorAll(".item"),A=document.getElementById("selectedValues");function C(){var e=Array.from(T).filter((function(e){return e.checked})).map((function(e){return e.value})).join(",");A.value=e}T.forEach((function(e){e.addEventListener("change",C)})),document.getElementById("uncheck").addEventListener("click",(function(){T.forEach((function(e){e.checked=!1})),C()}))}const I=document.querySelectorAll(".min-value .item");if(I){const re=document.querySelectorAll(".max-value .item"),ce=document.getElementById("min-price"),ie=document.getElementById("max-price");I.forEach((e=>{e.addEventListener("click",(()=>{if(!e.classList.contains("through")){const t=e.textContent.trim();ce.value=t,re.forEach((e=>{e.textContent.trim()<=t?(e.classList.add("through"),e.classList.remove("active")):(e.classList.remove("through"),e.classList.add("active"))}))}}))})),re.forEach((e=>{e.addEventListener("click",(()=>{if(!e.classList.contains("through")){const t=e.textContent.trim();ie.value=t,I.forEach((e=>{e.textContent.trim()>=t?(e.classList.add("through"),e.classList.remove("active")):(e.classList.remove("through"),e.classList.add("active"))}))}}))}))}const M=document.querySelector(".blog-inside .slider-wrap");if(M){document.querySelector(".blog-inside-content").querySelectorAll("h2, h3").forEach((e=>{if("h2"===e.tagName.toLowerCase()||"h3"===e.tagName.toLowerCase()){const t=document.createElement("a");t.classList.add("h2"===e.tagName.toLowerCase()?"sections":"subsections");const n=`heading-${Math.random().toString(36).substring(2,9)}`;e.setAttribute("id",n),t.setAttribute("href",`#${n}`),t.textContent=e.textContent;M.querySelector(".hidden").appendChild(t)}})),document.addEventListener("click",(e=>{if("a"===e.target.tagName.toLowerCase()&&(e.target.classList.contains("sections")||e.target.classList.contains("subsections"))){e.preventDefault();const t=e.target.getAttribute("href").slice(1);document.getElementById(t).scrollIntoView({behavior:"smooth"})}}))}const B=document.querySelectorAll(".from-submit");if(B){function H(e){e.preventDefault();const t=new FormData(e.target),n=new XMLHttpRequest;n.open("POST","/?eID=bitrix_leads"),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onload=function(){200===n.status?console.log(n.responseText):console.error(n.statusText)},n.send(new URLSearchParams(t))}B.forEach((e=>{e.addEventListener("submit",H)}))}function N(){var e,t=window.innerWidth||document.documentElement.clientWidth,n=document.querySelector(".menu__wrap"),o=n.querySelector(".items:last-of-type"),s=n.querySelector(".items.dynamic");t<1020?(s||((s=document.createElement("ul")).classList.add("items","dynamic"),n.appendChild(s)),(e=o.querySelector(".title.link"))&&s.appendChild(e)):s&&((e=s.querySelector(".title.link"))&&o.appendChild(e),s.parentNode.removeChild(s))}window.addEventListener("resize",N),N();const _=document.querySelectorAll(".faq");_&&_.forEach((e=>{const t=e.querySelector(".question"),n=e.querySelector(".answer"),o=e.querySelector(".plus"),s=e.querySelector(".minus");t.addEventListener("click",(()=>{t.classList.toggle("active"),e.classList.toggle("active"),n.classList.toggle("visible"),o.classList.toggle("visible"),s.classList.toggle("visible")})),n.addEventListener("click",(()=>{t.classList.toggle("active"),e.classList.toggle("active"),n.classList.toggle("visible"),o.classList.toggle("visible"),s.classList.toggle("visible")}))}));const D=document.querySelector(".blog-inside .slider-wrap");D&&window.innerWidth<1270&&D.addEventListener("click",(()=>{D.parentElement.style.height="auto",D.style.cssText="height:auto;display:flex;flex-direction:column;padding:18px 24px;";D.querySelector(".hidden").style.cssText="display:flex;position:relative;",D.querySelector(".table-of-contents").style.cssText="top:25px;right:40px;",D.disabled=!0}),{once:!0});const W=document.getElementById("forTransit");if(window.innerWidth<1025&&W){const le=W.parentNode.parentNode.parentNode;le.insertBefore(W,le.firstChild)}const P=document.querySelector(".property__inside-price");if(window.innerWidth<800&&P){const ae=document.querySelector(".left-block"),de=document.querySelector(".right-block");ae.insertBefore(P,ae.firstChild),ae.appendChild(de)}const R=document.querySelector(".wrap-for-action");R&&window.innerWidth>800&&window.addEventListener("scroll",(function(){const e=document.querySelector(".right-block"),t=window.pageYOffset||document.documentElement.scrollTop,n=document.getElementById("offsetHeight-detecter").offsetTop,o=n+(e.offsetHeight-50),s=R.offsetHeight;window.innerHeight;if(t>=n&&t<=o-s){const e=t-n;R.style.transform="translateY("+e+"px)"}else if(t>o-s){const e=o-s-n;R.style.transform="translateY("+e+"px)"}else R.style.transform="translateY(0)"}));const F=document.querySelector(".about .wrapper .video");if(window.innerWidth<820&&F){document.querySelector(".text-wrap").appendChild(F)}const j=document.querySelector(".stock");if(j){const ue=document.querySelector(".top__descr span").textContent,me=new Date(ue),ye=`${me.getFullYear()}-${(me.getMonth()+1).toString().padStart(2,"0")}-${me.getDate().toString().padStart(2,"0")}`;!function(e,t){function n(e){return e>=0&&e<10?`0${e}`:e}!function(e,t){const o=e,s=o.querySelector("#hours"),r=o.querySelector("#minutes"),c=o.querySelector("#seconds"),i=setInterval(l,1e3);function l(){const e=function(e){const t=Date.parse(e)-Date.parse(new Date);return{total:t,hours:Math.floor(t/36e5),minutes:Math.floor(t/6e4%60),seconds:Math.floor(t/1e3%60)}}(t);s.innerHTML=n(e.hours),r.innerHTML=n(e.minutes),c.innerHTML=n(e.seconds),e.total<=0&&clearInterval(i)}l()}(e,t)}(j,ye)}const O=document.getElementById("search-input");O&&(O.placeholder=screenWidth<1025?"Property types":"Property types, Project name, Developer, City, Area");const U=document.getElementById("myForm");if(U&&screenWidth<500){document.querySelector(".search-button").style.width=U.offsetWidth+"px"}if(screenWidth<1020){document.querySelectorAll(".menu__wrap .items").forEach((function(e){const t=e.querySelectorAll("li:not(.title)"),n=e.querySelector("li.title");t.forEach((e=>{e.style.display="none"})),n.addEventListener("click",(function(){for(let e=0;e<t.length;e++)"none"===t[e].style.display?(t[e].style.display="block",n.querySelector("svg").style.transform="rotate(180deg)"):(t[e].style.display="none",n.querySelector("svg").style.transform="rotate(0deg)")}))}))}if(screenWidth<500){const pe=document.querySelector(".pagination");if(pe){let he=pe.querySelectorAll(".item.page");for(let fe=0;fe<he.length;fe++)2!==fe&&3!==fe||(fe.style.display="none")}}}));