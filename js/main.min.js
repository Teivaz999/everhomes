var screenWidth=window.screen.width;document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".main__content");if(e){var t=document.getElementById("loadLogo");t.onload=function(){e.style.backgroundImage='url("../images/Main.webp")'},t.src="images/sprite.svg#logo-horyzontal"}const n=document.querySelector(".burger__trigger"),o=document.querySelector(".list");n.addEventListener("click",(()=>{o.classList.toggle("show")}));function r(){o.classList.remove("show")}document.querySelectorAll(".list .item span").forEach((e=>{e.addEventListener("click",(()=>{e.nextElementSibling.nextElementSibling.classList.toggle("show");e.nextElementSibling.classList.toggle("show")}))})),document.querySelector(".closeBurger").addEventListener("click",r),window.addEventListener("click",(function(e){o.contains(e.target)||n||r()}));const c=document.querySelectorAll("#phone");c&&c.forEach((e=>{const t=document.querySelector("#error-msg"),n=document.querySelector("#valid-msg"),o=["Invalid number","Invalid country code","Too short","Too long","Invalid number"],r=window.intlTelInput(e,{utilsScript:"/typo3conf/ext/rocket_everhomes/Resources/Public/js/utils.js",separateDialCode:!0,initialCountry:"auto",geoIpLookup:function(e,t){fetch("https://ipwhois.app/json/").then((function(e){if(!e.ok)throw new Error("Ошибка запроса к сервису ipwho.is");return e.json()})).then((function(t){var n=t.country_code;e(n)})).catch((function(e){t(e)}))}}),c=()=>{e.classList.remove("error"),t.innerHTML="",t.classList.add("hide"),n.classList.add("hide")};e.addEventListener("blur",(()=>{if(c(),e.value.trim())if(r.isValidNumber())n.classList.remove("hide");else{e.classList.add("error");const n=r.getValidationError();t.innerHTML=o[n],t.classList.remove("hide")}})),e.addEventListener("change",c),e.addEventListener("keyup",c)}));var s=document.querySelectorAll("form");if(s){function i(e){var t=e.querySelector(".iti__selected-dial-code"),n=e.querySelector("#phone"),o=e.querySelector("#hide-phone");if(t&&n&&o){var r=decodeURIComponent(t.textContent.trim()),c=n.value;o.value=r+c}}s.forEach((function(e){var t=e.querySelector(".iti__selected-dial-code");t&&t.addEventListener("DOMSubtreeModified",(function(){i(e)}));var n=e.querySelector("#phone");n&&n.addEventListener("input",(function(){i(e)}))}))}function l(e,t,n){document.querySelectorAll(e).forEach((e=>{const o=document.querySelectorAll(t),r=document.querySelector(`#${n}`),c=e.querySelector("#select-connect-input");o&&o.forEach((e=>{e.addEventListener("click",(t=>{o.forEach((e=>{e.classList.remove("active")}));const s=t.currentTarget.getAttribute("data-attr");s&&("tabsInput"===n?r.value=s:c.setAttribute("name",s)),e.classList.add("active")}))}))}))}document.querySelectorAll(".menu__nav-wrapper .list .item").forEach((e=>{const t=e.childNodes;for(var n=0;n<t.length;n++){"SPAN"===t[n].tagName&&screenWidth>1025&&(e.addEventListener("mouseover",(()=>{e.querySelector(".dropdown-menu").style.display="block"})),e.addEventListener("mouseout",(()=>{e.querySelector(".dropdown-menu").style.display="none"})))}})),l("#myForm",".tab-wrapper .tab","tabsInput"),l(".select-volume .volume"),l(".select-currency .currency"),l(".search-currency .currency","priceInput"),l(".from-submit",".item","select-connect"),l(".language",".right");const a=document.querySelector(".emir-message");if(a){const Z=document.querySelector(".emir-main-item"),ee=a.querySelector(".emir-items"),te=a.querySelectorAll(".emir-item"),ne=a.querySelector(".emirmessage-1"),oe=a.querySelector(".emirmessage-2"),re=a.querySelector(".emirmessage-3");let ce=!1;a.addEventListener("click",(()=>{ce?(te.forEach((e=>{e.classList.add("emir-animation-reverse"),e.classList.remove("emir-animation"),e.addEventListener("animationend",(()=>{e.style.display="none"}),{once:!0})})),ne.style.cssText="top: 0px;\n      left: -36px;",re.style.cssText="top:0px;\n      left: -36px;",Z.style.height="40px",oe.style.cssText="\n      left: -36px;",Z.innerHTML='<svg width="40" height="40" viewBox="0 0 40 40">\n      <use xlink:href="images/sprite.svg#static-message"></use>\n    </svg>',ce=!1):(te.forEach((e=>{e.classList.add("emir-animation"),e.classList.remove("emir-animation-reverse")})),ne.style.cssText="top:-54px;\n      left: -26px;",re.style.cssText="top:54px;\n      left: -26px;",oe.style.cssText="\n      left: -46px;",ee.style.display="flex",Z.style.height="20px",Z.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20">\n      <use xlink:href="images/sprite.svg#dagger"></use>\n    </svg>',ce=!0)}))}var d=document.querySelector(".search-button");d&&d.addEventListener("click",(function(){document.querySelector("#myForm").submit()}));const u=document.querySelector(".iti__country-list");if(u){const se=document.getElementById("phone");u.style.width=se.offsetWidth+"px"}const m=document.querySelector(".message");if(m){const ie=m.querySelector(".items"),le=document.querySelector(".main-item");let ae=!1;m.addEventListener("click",(()=>{ae?(ie.classList.remove("animation"),ie.classList.add("animation-reverse"),ie.addEventListener("animationend",(()=>{ie.style.display="none"}),{once:!0}),le.style.height="40px",le.innerHTML='<svg width="40" height="40" viewBox="0 0 40 40">\n  <use xlink:href="/typo3conf/ext/rocket_everhomes/Resources/Public/images/sprite.svg#static-message"></use>\n</svg>',ae=!1):(ie.classList.add("animation"),ie.classList.remove("animation-reverse"),ie.style.display="flex",le.style.height="20px",le.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20">\n  <use xlink:href="/typo3conf/ext/rocket_everhomes/Resources/Public/images/sprite.svg#dagger"></use>\n</svg>',ae=!0)}))}var y=document.getElementById("search-input");if(y){var p=document.getElementById("suggestionsList"),g=document.getElementById("suggestionsListStatic"),h=document.getElementById("selected-option"),f=document.getElementById("itemsInput");y.addEventListener("click",(function(){g.style.display="block",document.addEventListener("click",(function(e){var t=e.target,n=g.contains(t);t.className!=n&&t.className!=y&&"body"===t.tagName.toLowerCase()&&(g.style.display="none")})),y.addEventListener("input",(function(){var e;g.style.display="none",e=y.value.toLowerCase(),p.innerHTML="",e.length>0?(p.style.display="block",v.forEach((function(t){if(t.toLowerCase().startsWith(e)){var n=document.createElement("div");n.classList.add("item"),n.innerHTML=t,p.appendChild(n)}}))):p.style.display="none"}))}));var v=["Villas","Dubai","EMAAR"];p&&p.addEventListener("click",(function(e){if(e.target.matches(".item")){y.value="",p.style.display="none";var t=e.target.innerHTML,n=document.createElement("div");n.classList.add("item"),n.innerHTML=t;var o=document.createElement("span");o.innerHTML="×",o.classList.add("remove-option"),o.addEventListener("click",(function(){h.style.display="none",h.removeChild(n),E(t)})),h.style.display="flex",n.appendChild(o),h.appendChild(n),L(t),p.innerHTML=""}})),g&&g.addEventListener("click",(function(e){if(e.target.matches(".item")){y.value="",g.style.display="none";var t=e.target.innerHTML,n=document.createElement("div");n.classList.add("item"),n.innerHTML=t;var o=document.createElement("span");o.innerHTML="×",o.classList.add("remove-option"),o.addEventListener("click",(function(){h.removeChild(n),E(t)})),h.style.display="flex",n.appendChild(o),h.appendChild(n),L(t),g.innerHTML=""}}))}function L(e){var t=f.value;f.value=t?t+","+e:e}function E(e){var t=f.value.split(","),n=t.indexOf(e);-1!==n&&(t.splice(n,1),f.value=t.join(","))}const S=document.querySelectorAll(".dropdown-toggle");S.forEach((e=>{e.addEventListener("click",(e=>{S.forEach((e=>{e.nextElementSibling.classList.remove("show")})),e.target.nextElementSibling.classList.add("show")}))})),document.onclick=function(e){document.querySelectorAll(".dropdown-select").forEach((t=>{"custom"!=e.target.className&&"dropdown-toggle"!=e.target.className&&"item"!=e.target.className&&"currency"!=e.target.className&&"dropdown-select"!=e.target.className&&"LABEL"!==e.target.tagName&&"INPUT"!==e.target.tagName&&"LI"!==e.target.tagName&&"BUTTON"!==e.target.tagName&&t.classList.remove("show")}))};const q=document.getElementById("stockHide");if(q){const de=document.querySelector(".stock-detail");q.addEventListener("click",(()=>{de.style.transition="opacity 1s",de.style.opacity="0",K.style.display="none",de.style.display="block",setTimeout((()=>{de.style.opacity="1"}),0)}))}const w=document.querySelectorAll(".price.cards__all-price");if(w){const ue=document.querySelector(".modal-coming-soon");w.forEach((e=>{e.addEventListener("click",(()=>{ue.style.display="block",setTimeout((()=>{ue.style.opacity="1"}),0)}))}))}document.querySelectorAll(".closeX").forEach((e=>{e.addEventListener("click",(()=>{parentElement=e.parentNode,parentElement.style.display="none",document.body.style.overflowY="auto"}))}));const b=document.getElementById("contactModal");if(b){const me=document.querySelector(".modal-contact-main.modal");function x(e){e.preventDefault(),me.style.display="block",document.body.style.overflowY="hidden",k()}b.addEventListener("click",(()=>{me.style.display="block",document.body.style.overflowY="hidden",k()}));document.querySelectorAll(".broshure .wrap .right-block").forEach((e=>{e.querySelector("a").addEventListener("click",x)}))}function k(){document.querySelectorAll(".iti__country-list").forEach((e=>{document.querySelectorAll(".from-submit .input-wrap input").forEach((t=>{e.style.width=t.offsetWidth+"px"}))}))}window.addEventListener("DOMContentLoaded",(function(){var e,t=document.querySelector(".blog-inside");if(screenWidth>1270&&t){var n=document.querySelector(".slider-wrap");e=t.offsetHeight-32+"px",n.style.height=e}}));const A=document.querySelector(".table-of-contents");if(A){const ye=document.querySelector(".content");A.addEventListener("click",(()=>{ye.scrollTop=ye.scrollHeight}))}const T={aed:1,usd:.27,rub:20.51},C=document.querySelectorAll(".select-volume li"),M=document.querySelectorAll(".select-currency li"),I=document.querySelector("p[data-volume]"),H=document.querySelectorAll("span[data-volume]"),_=document.querySelectorAll("sup[data-currency]"),B=document.querySelector("#minCostValue"),N=document.querySelector("#areaValue"),$=document.querySelectorAll(".floorCostValue");if(C){function W(e,t){const n=t*T[e];return Math.round(n).toLocaleString("en")}C.forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-attr");I.textContent=t,H.forEach((e=>{e.textContent=t})),C.forEach((t=>{t===e?t.classList.add("active"):t.classList.remove("active")}))}))})),M.forEach((e=>{e.addEventListener("click",(()=>{M.forEach((e=>{e.classList.remove("active")})),e.classList.add("active");const t=e.getAttribute("data-attr");_.forEach((e=>{e.setAttribute("data-currency",t),e.textContent=t}));const n=W(t,parseFloat(B.getAttribute("data-sprice").replace(/[^0-9.-]+/g,"")));B.innerHTML=`${n}<sup data-currency="${t}">${t}</sup>`,$.forEach((e=>{const n=W(t,parseFloat(e.getAttribute("data-sprice").replace(/[^0-9.-]+/g,"")));e.querySelector("[data-currency]").textContent=t,e.innerHTML=`from ${n} <span data-currency="${t}">${t}</span>`}));const o=W(t,parseFloat(N.getAttribute("data-sprice").replace(/[^0-9.-]+/g,"")));N.innerHTML=`${o}<sup data-currency="${t}">${t}</sup>`}))})),window.addEventListener("DOMContentLoaded",(()=>{if(document.querySelector(".select-currency .currency.active")){const e=document.querySelector(".select-currency .currency.active").getAttribute("data-attr"),t=(T[e],parseFloat(B.getAttribute("data-sprice").replace(/[^0-9.-]+/g,""))),n=W(e,t);B.innerHTML=`${n}<sup data-currency="${e}">${e}</sup>`,$.forEach((t=>{const n=parseFloat(t.getAttribute("data-sprice").replace(/[^0-9.-]+/g,"")),o=W(e,n);t.querySelector("[data-currency]").textContent=e,t.innerHTML=`from ${o} <span data-currency="${e}">${e}</span>`}));const o=parseFloat(N.getAttribute("data-sprice").replace(/[^0-9.-]+/g,"")),r=W(e,o);N.innerHTML=`${r}<sup data-currency="${e}">${e}</sup>`}}))}const D=document.getElementById("uncheck");if(D){D.addEventListener("click",(()=>{document.querySelectorAll("input[type=checkbox]").forEach((function(e){e.checked&&(e.checked=!1)}))}));var F=document.querySelectorAll(".item"),V=document.getElementById("selectedValues");function Y(){var e=Array.from(F).filter((function(e){return e.checked})).map((function(e){return e.value})).join(",");V.value=e}F.forEach((function(e){e.addEventListener("change",Y)})),document.getElementById("uncheck").addEventListener("click",(function(){F.forEach((function(e){e.checked=!1})),Y()}))}const O=document.querySelectorAll(".min-value .item");if(O){const pe=document.querySelectorAll(".max-value .item"),ge=document.getElementById("min-price"),he=document.getElementById("max-price");O.forEach((e=>{e.addEventListener("click",(()=>{if(!e.classList.contains("through")){const t=e.textContent.trim();ge.value=t,pe.forEach((e=>{e.textContent.trim()<=t?(e.classList.add("through"),e.classList.remove("active")):(e.classList.remove("through"),e.classList.add("active"))}))}}))})),pe.forEach((e=>{e.addEventListener("click",(()=>{if(!e.classList.contains("through")){const t=e.textContent.trim();he.value=t,O.forEach((e=>{e.textContent.trim()>=t?(e.classList.add("through"),e.classList.remove("active")):(e.classList.remove("through"),e.classList.add("active"))}))}}))}))}const j=document.querySelector(".blog-inside .slider-wrap");if(j){document.querySelector(".blog-inside-content").querySelectorAll("h2, h3").forEach((e=>{if("h2"===e.tagName.toLowerCase()||"h3"===e.tagName.toLowerCase()){const t=document.createElement("a");t.classList.add("h2"===e.tagName.toLowerCase()?"sections":"subsections");const n=`heading-${Math.random().toString(36).substring(2,9)}`;e.setAttribute("id",n),t.setAttribute("href",`#${n}`),t.textContent=e.textContent;j.querySelector(".hidden").appendChild(t)}})),document.addEventListener("click",(e=>{if("a"===e.target.tagName.toLowerCase()&&(e.target.classList.contains("sections")||e.target.classList.contains("subsections"))){e.preventDefault();const t=e.target.getAttribute("href").slice(1);document.getElementById(t).scrollIntoView({behavior:"smooth"})}}))}function P(){var e,t=window.innerWidth||document.documentElement.clientWidth,n=document.querySelector(".menu__wrap"),o=n.querySelector(".items:last-of-type"),r=n.querySelector(".items.dynamic");t<1020?(r||((r=document.createElement("ul")).classList.add("items","dynamic"),n.appendChild(r)),(e=o.querySelector(".title.link"))&&r.appendChild(e)):r&&((e=r.querySelector(".title.link"))&&o.appendChild(e),r.parentNode.removeChild(r))}window.addEventListener("resize",P),P();const R=document.querySelectorAll(".faq");R&&R.forEach((e=>{const t=e.querySelector(".question"),n=e.querySelector(".answer"),o=e.querySelector(".plus"),r=e.querySelector(".minus");t.addEventListener("click",(()=>{t.classList.toggle("active"),e.classList.toggle("active"),n.classList.toggle("visible"),o.classList.toggle("visible"),r.classList.toggle("visible")})),n.addEventListener("click",(()=>{t.classList.toggle("active"),e.classList.toggle("active"),n.classList.toggle("visible"),o.classList.toggle("visible"),r.classList.toggle("visible")}))}));const U=document.querySelector(".blog-inside .slider-wrap");U&&window.innerWidth<1270&&U.addEventListener("click",(()=>{U.parentElement.style.height="auto",U.style.cssText="height:auto;display:flex;flex-direction:column;padding:18px 24px;";U.querySelector(".hidden").style.cssText="display:flex;position:relative;",U.querySelector(".table-of-contents").style.cssText="top:25px;right:40px;",U.disabled=!0}),{once:!0});const z=document.getElementById("forTransit");if(window.innerWidth<1025&&z){const fe=z.parentNode.parentNode.parentNode;fe.insertBefore(z,fe.firstChild)}const X=document.querySelector(".property__inside-price");if(window.innerWidth<800&&X){const ve=document.querySelector(".left-block"),Le=document.querySelector(".right-block");ve.insertBefore(X,ve.firstChild),ve.appendChild(Le)}const G=document.querySelector(".wrap-for-action");G&&window.innerWidth>800&&window.addEventListener("scroll",(function(){const e=document.querySelector(".right-block"),t=window.pageYOffset||document.documentElement.scrollTop,n=document.getElementById("offsetHeight-detecter").offsetTop,o=n+(e.offsetHeight-50),r=G.offsetHeight;window.innerHeight;if(t>=n&&t<=o-r){const e=t-n;G.style.transform="translateY("+e+"px)"}else if(t>o-r){const e=o-r-n;G.style.transform="translateY("+e+"px)"}else G.style.transform="translateY(0)"}));const J=document.querySelector(".about .wrapper .video");if(window.innerWidth<820&&J){document.querySelector(".text-wrap").appendChild(J)}const K=document.querySelector(".stock");if(K){const Ee=document.querySelector(".top__descr span").textContent,Se=new Date(Ee),qe=`${Se.getFullYear()}-${(Se.getMonth()+1).toString().padStart(2,"0")}-${Se.getDate().toString().padStart(2,"0")}`;!function(e,t){function n(e){return e>=0&&e<10?`0${e}`:e}!function(e,t){const o=e,r=o.querySelector("#hours"),c=o.querySelector("#minutes"),s=o.querySelector("#seconds"),i=setInterval(l,1e3);function l(){const e=function(e){const t=Date.parse(e)-Date.parse(new Date);return{total:t,hours:Math.floor(t/36e5),minutes:Math.floor(t/6e4%60),seconds:Math.floor(t/1e3%60)}}(t);r.innerHTML=n(e.hours),c.innerHTML=n(e.minutes),s.innerHTML=n(e.seconds),e.total<=0&&clearInterval(i)}l()}(e,t)}(K,qe)}const Q=document.getElementById("myForm");if(Q&&screenWidth<500){document.querySelector(".search-button").style.width=Q.offsetWidth+"px"}if(screenWidth<1020){document.querySelectorAll(".menu__wrap .items").forEach((function(e){const t=e.querySelectorAll("li:not(.title)"),n=e.querySelector("li.title");t.forEach((e=>{e.style.display="none"})),n.addEventListener("click",(function(){for(let e=0;e<t.length;e++)"none"===t[e].style.display?(t[e].style.display="block",n.querySelector("svg").style.transform="rotate(180deg)"):(t[e].style.display="none",n.querySelector("svg").style.transform="rotate(0deg)")}))}))}if(screenWidth<500){const we=document.querySelector(".pagination");if(we){let be=we.querySelectorAll(".item.page");for(let xe=0;xe<be.length;xe++)2!==xe&&3!==xe||(xe.style.display="none")}}}));